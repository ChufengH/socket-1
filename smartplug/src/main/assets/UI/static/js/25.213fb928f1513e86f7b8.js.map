{"version":3,"sources":["webpack:///src/page/me/Rate.vue","webpack:///./src/page/me/Rate.vue?c953","webpack:///./src/page/me/Rate.vue"],"names":["data1","data2","data3","me_Rate","data","rateVal","wheels","wheelState","startX","startY","moveX","moveY","moveUp","unit","selectedValue","selectedIndex","currRate","components","head-top","head","picker","common_picker","created","mounted","this","$refs","show","localRateCurrency","JSON","parse","Object","utils","localLogin","rate","forEach","element","email","arr","parseInt","console","log","pickerScroll","methods","extends_default","vuex_esm","change","value","up","save","prices","Number","setRate","Rate","flag","push","_localRateCurrency","$router","go","_this","timer","pickerwheel","setInterval","j","items","length","className","_j","_j2","i","scrollTo","clearInterval","setTimeout","clearTimeout","page_me_Rate","render","_h","$createElement","_c","_self","attrs","id","title","goBack","slot","on","click","_v","ref","selected-index","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/25.213fb928f1513e86f7b8.js","sourcesContent":["<template>\r\n  <div id=\"Rate\">\r\n    <head-top title=\"Rate\" goBack=\"true\">\r\n      <div slot=\"setRight\" @click=\"save\">Save</div>\r\n    </head-top>\r\n    <picker :data=\"data\"\r\n            :selected-index=\"selectedIndex\"\r\n            :unit=\"unit\"\r\n            @change=\"change\"\r\n            ref=\"picker\">\r\n    </picker>\r\n  </div>\r\n</template>\r\n<script>\r\nimport headTop from '../../components/common/head'\r\nimport picker from '../../components/common/picker'\r\n\r\nimport {\r\n  mapActions\r\n} from 'vuex'\r\nimport {\r\n// settingLocalElectricityRequest\r\n} from '../../api/method'\r\nimport {\r\n// settingLocalElectricityResponse\r\n} from '../../api/getData'\r\nimport { getStore, setStore } from '../../utils'\r\n// import messageBox from '../../components/common/messageBox'\r\n// import Bscroll from 'better-scroll'\r\nlet data1 = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\r\nlet data2 = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\r\nlet data3 = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\r\nexport default {\r\n  data () {\r\n    return {\r\n      rateVal: null, // 汇率\r\n      wheels: null, // 选择器实例化数组\r\n      wheelState: true, // 选择器显示隐藏（避免数据延迟，造成选择器无法滚动到指定的selectedIndex）\r\n      startX: 0,\r\n      startY: 0,\r\n      moveX: 0,\r\n      moveY: 0,\r\n      moveUp: false,\r\n      data: [data1, data2, data3], // 选择器列数据\r\n      unit: ['', '', ''],\r\n      selectedValue: [],\r\n      selectedIndex: [0, 0, 0],\r\n      currRate: null // 选择器选择的汇率\r\n    }\r\n  },\r\n  components: {\r\n    'head-top': headTop,\r\n    picker\r\n  },\r\n  created () {\r\n    // settingLocalElectricityResponse(this.NAVIGATOR, this)\r\n  },\r\n  mounted () {\r\n    // this.$store.dispatch('showSideBar')\r\n    let picker = this.$refs.picker\r\n    // this.selectedValue = picker.getInitValue()\r\n    picker.show()\r\n    let localRateCurrency = JSON.parse(getStore('localRateCurrency'))\r\n    let localLogin = JSON.parse(getStore('login'))\r\n    if (localRateCurrency) {\r\n      let rate\r\n      localRateCurrency.forEach(element => {\r\n        if (element.email === localLogin.email) {\r\n          rate = element.currRate * 100\r\n        }\r\n      })\r\n      if (!rate) {\r\n        rate = 0\r\n      }\r\n      let arr = []\r\n      arr[0] = parseInt(rate / 100)\r\n      arr[1] = parseInt((rate % 100) / 10)\r\n      arr[2] = parseInt((rate % 100) % 10)\r\n      console.log(arr)\r\n      this.pickerScroll(arr)\r\n    }\r\n    console.log(this.selectedValue)\r\n  },\r\n  methods: {\r\n    ...mapActions(['setRate']),\r\n    change (value) {\r\n      this.selectedValue = value\r\n    },\r\n    up () {\r\n      this.moveUp = true\r\n    },\r\n    save () {\r\n      let prices = this.selectedValue[0] + '.' + this.selectedValue[1] + this.selectedValue[2]\r\n      console.log(prices)\r\n      this.currRate = Number(prices)\r\n      this.setRate(this.currRate)\r\n      let loginMessage = JSON.parse(getStore('login'))\r\n      let Rate = {\r\n        email: loginMessage.email,\r\n        currRate: Number(prices)\r\n      }\r\n      let localRateCurrency = JSON.parse(getStore('localRateCurrency'))\r\n      if (localRateCurrency) {\r\n        let flag = true\r\n        localRateCurrency.forEach(element => {\r\n          if (Rate.email === element.email) {\r\n            element.currRate = Rate.currRate\r\n            flag = false\r\n          }\r\n        })\r\n        if (flag) {\r\n          localRateCurrency.push(Rate)\r\n        }\r\n        setStore('localRateCurrency', localRateCurrency)\r\n      } else {\r\n        let localRateCurrency = [Rate]\r\n        setStore('localRateCurrency', localRateCurrency)\r\n      }\r\n      // settingLocalElectricityRequest(this.NAVIGATOR, this, '虚拟mac', this.currRate)\r\n      // if (this.$root.ISDEBUG) {\r\n      //   window.settingLocalElectricityResponse('0000', true)\r\n      // }\r\n      this.$router.go(-1)\r\n    },\r\n    pickerScroll (arr) {\r\n      let timer\r\n      let pickerwheel\r\n      let picker\r\n      timer = setInterval(() => {\r\n        picker = this.$refs.picker\r\n        if (picker) {\r\n          pickerwheel = this.$refs.picker.wheels\r\n        }\r\n        if (pickerwheel) {\r\n          console.log(pickerwheel)\r\n          for (let j = 0; j < picker.wheels[0].items.length; j++) {\r\n            picker.wheels[0].items[j].className = 'wheel-item'\r\n          }\r\n          for (let j = 0; j < picker.wheels[1].items.length; j++) {\r\n            picker.wheels[1].items[j].className = 'wheel-item'\r\n          }\r\n          for (let j = 0; j < picker.wheels[2].items.length; j++) {\r\n            picker.wheels[2].items[j].className = 'wheel-item'\r\n          }\r\n          for (let i in arr) {\r\n            picker.wheels[i].items[parseInt(arr[i])].className = 'active'\r\n            picker.scrollTo(i, arr[i])\r\n            clearInterval(timer)\r\n          }\r\n        }\r\n      }, 150)\r\n      setTimeout(() => {\r\n        clearInterval(timer)\r\n        clearTimeout()\r\n      }, 5000)\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n#Rate{\r\n  .fs;\r\n  z-index: 999;\r\n  background: white;\r\n  .scroll_column, .picker{\r\n    .wh(100%, 70%);\r\n    display: flex;\r\n    margin-top: 96px;\r\n    // overflow: hidden;\r\n    .scroll_width{\r\n      .wh(33%, 100%);\r\n      position: relative;\r\n      overflow: hidden;\r\n      ul{\r\n        .wh(100%, 480px);\r\n        -webkit-overflow-scrolling: touch;\r\n        overflow-y: auto;\r\n        overflow-x: hidden;\r\n        position: absolute;\r\n      }\r\n      li{\r\n        .wh-l(100%, 100px);\r\n        font-size: 47px;\r\n        // color: #eaeaea;\r\n      }\r\n      li:nth-child(1){\r\n        line-height: 97px;\r\n        color:#ebebeb;\r\n      }\r\n      li:nth-child(2){\r\n        line-height: 107px;\r\n        color: #c8cac9;\r\n      }\r\n      li:nth-child(3){\r\n        line-height: 109px;\r\n        color: #01a29d;\r\n      }\r\n      li:nth-child(4){\r\n        line-height: 107px;\r\n        color: #c8cac9;\r\n      }\r\n      li:nth-child(5){\r\n        line-height: 97px;\r\n        color: #ebebeb;\r\n      }\r\n    }\r\n  }\r\n  li{\r\n    color: #01a29d;\r\n  }\r\n  .picker-content{\r\n    height: 50%;\r\n  }\r\n  .picker .picker-content .wheel-wrapper .wheel .wheel-scroll li{\r\n    color: #01a29d;\r\n  }\r\n  /deep/ .picker {\r\n    padding: 0;\r\n    // padding-right: 40px;\r\n    .picker-content{\r\n      height: 50%;\r\n    }\r\n    .mask-top{\r\n      height: 110px;\r\n      border-bottom: 1px solid #e8e8e8;\r\n    }\r\n    .mask-bottom{\r\n      height: 110px;\r\n      top: 226px;\r\n      bottom: 0;\r\n      border-top: 1px solid #e8e8e8;\r\n\r\n    }\r\n    .wheel-wrapper {\r\n      .wheel{\r\n        .wheel-scroll {\r\n          position: relative;\r\n          z-index: 9;\r\n          margin-top: 126px;\r\n          li{\r\n            height: 100px;\r\n            line-height: 100px;\r\n            color: #717575;\r\n            font-size: 46px\r\n          }\r\n          .active{\r\n            color: #01a29d;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/page/me/Rate.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"Rate\"}},[_c('head-top',{attrs:{\"title\":\"Rate\",\"goBack\":\"true\"}},[_c('div',{attrs:{\"slot\":\"setRight\"},on:{\"click\":_vm.save},slot:\"setRight\"},[_vm._v(\"Save\")])]),_vm._v(\" \"),_c('picker',{ref:\"picker\",attrs:{\"data\":_vm.data,\"selected-index\":_vm.selectedIndex,\"unit\":_vm.unit},on:{\"change\":_vm.change}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-a053f364\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/me/Rate.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a053f364\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":75}!less-loader?{\\\"sourceMap\\\":true}!sass-resources-loader?{\\\"resources\\\":[\\\"C:\\\\\\\\Users\\\\\\\\Administrator\\\\\\\\Desktop\\\\\\\\smartPlug\\\\\\\\src\\\\\\\\styles\\\\\\\\index.less\\\",\\\"C:\\\\\\\\Users\\\\\\\\Administrator\\\\\\\\Desktop\\\\\\\\smartPlug\\\\\\\\src\\\\\\\\styles\\\\\\\\mixin.less\\\"]}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Rate.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Rate.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Rate.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a053f364\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Rate.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-a053f364\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/me/Rate.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}